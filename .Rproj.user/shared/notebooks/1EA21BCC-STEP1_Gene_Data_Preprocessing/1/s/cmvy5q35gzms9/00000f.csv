"0","# Calculate the proportion of values of 0 in each column"
"0","zero_percent <- apply(goal_gene_mt, 2, function(x) mean(x == 0))"
"0","write.csv(zero_percent, ""../output/Zero_percent.csv"")"
"0","# Determine if the overall 50% threshold is exceeded"
"0","threshold <- 0.5"
"0","cols_to_keep <- which(zero_percent <= threshold)"
"0","cell_type<-cell[cols_to_keep,""Labels""]"
"0","cell_MR<-cell[cols_to_keep,""PR_or_MR""]"
"0","cols_to_MR<-which(cell$PR_or_MR==""Yes""&zero_percent <= threshold)"
"0","cols_to_PR<-which(cell$PR_or_MR==""No""&zero_percent <= threshold)"
"0","save(list=c(""goal_gene_mt"",""goal_gene"",""mt"",""cell"",""cols_to_MR"",""cols_to_PR""), file = ""../output/goal_gene_mt.RData"")"
"0","# Combine the remaining columns into a new data frame"
"0","new_mt <- goal_gene_mt[, cols_to_keep]"
"0","MR_mt<-goal_gene_mt[, cols_to_MR]"
"0","PR_mt<-goal_gene_mt[, cols_to_PR]"
